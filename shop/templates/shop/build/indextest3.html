{% load view_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    {{ basketProducts }}
    <br />
    {% getProductsFromSubcat 5 1 %}
    <script>
      var discountItems = "{% hasDiscount %}".split("***"); //not converted items
      
      var hasDiscount = []; //default array where discount items will be pushed
      console.log(discountItems)
      for (item in discountItems) {
        hasDiscount.push(discountItems[item].split(";;;"));
      }
      var ttt = "{{ basketProducts }}".split("***");

      var tt = [];
      for (i in ttt) {
        tt.push(ttt[i].split(";;;"));
      }
      console.log(tt);

      var ppp = "{% getProductsFromSubcat 5 %}".split("***");
      var p1 = [];
      for (i in ppp) {
        pp.push(ppp[i].split(";;;"));
      }
      console.log(pp);
    </script>
    <br />
    <h1>has shotshot 37 line</h1>
    <h6>{% hasHotshot %}</h6>
    <h1>End of hotshot</h1>
    <!-- {% hasDiscount %} -->
    <h1>Has discount</h1>
    {% hasDiscount %}
    <h1>End of discount</h1>
    <br>
    <script>
      const hotshot = '{% hasHotshot %}';
      console.log(hotshot, 'hotshot')
      </script>
        <form id="changeHotshot" action="/changeHotshot/" method="post">
        {% csrf_token %}
        Gib product id: <input type="number" name="id" required/><br />
        <input type="submit" value="Set Hotshot" />
      </form>
  </body>
</html>
